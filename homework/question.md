情境导入：
假设你的项目组正在开发一套内部使用的教学辅助系统。
该系统后端使用Python编写，用于为课程与实验提供接口服务。
目前，你在项目组中承担运维与部署的角色。导师希望你能够针对系统当前的开发与部署现状，设计一套稳定、可维护的服务运行方案，以解决以下问题：
- 系统由多名同学同时参与开发，不同开发者所使用的操作系统、Python 版本及依赖版本存在较大差异，环境难以统一
- 系统需要部署在一台 Linux 服务器上，并满足以下要求：
  - 系统重启后能够自动启动
  - 服务运行过程中出现异常时能够自动重启
- 在系统正常运行情况下，运维过程应尽量减少人工干预，仅在出现重大异常时才需要人工介入
任务目标：
从零开始设计一套可实际使用的服务环境，以满足系统在不同阶段的运行需求。
该服务环境应当具备以下特性：
1. 多环境设计
  - 使用docker进行容器化部署
  - 至少设计以下两种环境：
    - 开发环境
    - 测试环境
  - 不同环境间应相互隔离，对于可能出现的错误具备良好的可复现性
2. 依赖管理
  - 使用conda或uv管理python依赖
3. 生产环境的部署与管理
  - 除开发、测试环境外，还需设计一个生产环境
  - 生产环境中不使用docker，而是通过systemd启动并管理服务
  - systemd服务应满足以下需求
    - 开机自启
    - 服务异常退出后自动重启
    - 统一的日志管理
    - 由于系统需连接到外部API，服务应在网络服务启动完成后再启动